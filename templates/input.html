{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title text-center mb-4">Add a Song</h2>
                <form method="POST">
                    <div class="mb-4">
                        <label for="username" class="form-label">Your Username</label>
                        <input type="text" class="form-control" id="username" name="username" required 
                               placeholder="e.g., kyler.zanuck">
                    </div>
                    <div class="mb-4">
                        <label for="spotify_link" class="form-label">Spotify Song Link</label>
                        <input type="url" class="form-control" id="spotify_link" name="spotify_link" required
                               placeholder="https://open.spotify.com/track/...">
                        <div class="form-text">Paste the full Spotify song URL here</div>
                    </div>
                    <div class="mb-4">
                        <label class="form-label">Your Rating</label>
                        <div class="star-rating">
                            {% for i in range(5, 0, -1) %}
                            <input type="radio" id="star_{{ i }}" name="rating" value="{{ i }}" required>
                            <label for="star_{{ i }}" title="{{ i }} star{% if i != 1 %}s{% endif %}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>
                            </label>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-spotify">
                            Submit Rating
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-music-note-beamed ms-2" viewBox="0 0 16 16">
                                <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"/>
                                <path fill-rule="evenodd" d="M14 11V2h1v9h-1zM6 3v10H5V3h1z"/>
                                <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
.star-rating {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
    gap: 0.25rem;
}

.star-rating input {
    display: none;
}

.star-rating label {
    cursor: pointer;
    color: var(--muted);
    transition: color 0.2s ease;
}

.star-rating label svg {
    width: 2rem;
    height: 2rem;
}

/* All stars start as muted */
.star-rating label {
    color: var(--muted);
}

/* When hovering over a star, color it and all previous stars */
.star-rating:hover label {
    color: var(--muted);
}

.star-rating label:hover,
.star-rating label:hover ~ label {
    color: var(--primary);
}

/* When a rating is selected, color that star and all previous stars */
.star-rating input:checked ~ label {
    color: var(--primary);
}
</style>
{% endblock %} 