{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title text-center mb-4">Add a Song</h2>
                <form method="POST">
                    <div class="mb-4">
                        <label for="username" class="form-label">Your Username</label>
                        <input type="text" class="form-control" id="username" name="username" required 
                               placeholder="e.g., kyler.zanuck">
                    </div>
                    <div class="mb-4">
                        <label for="spotify_link" class="form-label">Spotify Song Link</label>
                        <input type="url" class="form-control" id="spotify_link" name="spotify_link" required
                               placeholder="https://open.spotify.com/track/...">
                        <div class="form-text">Paste the full Spotify song URL here</div>
                    </div>
                    <div class="mb-4">
                        <label class="rating-label">Your Rating</label>
                        <div class="star-rating">
                            {% for i in range(5, 0, -1) %}
                            <input type="radio" id="star{{ i }}" name="rating" value="{{ i }}" required>
                            <label for="star{{ i }}" title="{{ i }} star{% if i != 1 %}s{% endif %}">â˜…</label>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-spotify">
                            Submit Rating
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-music-note-beamed ms-2" viewBox="0 0 16 16">
                                <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"/>
                                <path fill-rule="evenodd" d="M14 11V2h1v9h-1zM6 3v10H5V3h1z"/>
                                <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
.star-rating {
    display: flex;
    flex-direction: row-reverse;
    justify-content: center;
    gap: 1rem;
    margin: 1rem 0;
    background: rgba(0, 0, 0, 0.05);
    padding: 1.5rem;
    border-radius: 10px;
}

.star-rating input {
    display: none;
}

.star-rating label {
    cursor: pointer;
    font-size: 3rem;
    color: #d4d4d4;
    transition: all 0.2s ease;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

/* When hovering over a star, color it and all previous stars */
.star-rating:hover label {
    color: #d4d4d4;
}

.star-rating label:hover,
.star-rating label:hover ~ label {
    color: #8b5cf6;
    transform: scale(1.2);
}

/* When a rating is selected, color that star and all previous stars */
.star-rating input:checked ~ label {
    color: #8b5cf6;
}

/* Add visual feedback for the current selection */
.star-rating input:checked + label {
    transform: scale(1.2);
}

.rating-label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--foreground);
    text-align: center;
}
</style>
{% endblock %} 